<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="Infernity Mod Version Archive">
    <meta name="keywords" content="wine, diablo 1, diablo 1 ubuntu, diablo 1 linux, diablo infernity, infernity mod">
    <meta charset="UTF-8">
    <title>How-To: Launching Infernity on Linux</title>
    <style>
        table, th, td {
            border: 1px solid white;
        }
        body {
            color: white;
            background-color: black;
        }
        a {
            color: aqua;
        }
        
        .box {
            border: 1px solid white;
        }
    </style>
</head>
<body>
    <h1>Launching Infernity on Linux</h1>
    <img width="640" height="480" src="infernitywine.png">
    <p>This tutorial will teach you how to install and run Infernity (and pretty  much any other Diablo mod) on Linux.</p>
    <p>Linux distro used in this tutorial is Ubuntu. You must adapt this tutorial to your distro if it not based on Debian (Linux Mint is based on Ubuntu, so it can work). <br> First of all, you need to install <a href="https://winehq.org">Wine.</a> You must install the latest stable 3.0.x version. If you have wine-staging it will crash at the Blizzard logo. There currently no fixes for it, so you have to use Wine 3.0.x Stable.</p>
    <div class="box">
    <code>
        sudo dpkg --add-architecture i386 <br>
        wget -nc https://dl.winehq.org/wine-builds/Release.key<br>
        sudo apt-key add Release.key<br>
        sudo apt-add-repository https://dl.winehq.org/wine-builds/ubuntu/<br>
        sudo apt-get update<br>
        sudo apt-get install --install-recommends winehq-stable<br>
    </code>
    </div>
    <h5>Taken from <a href="https://wiki.winehq.org/Ubuntu">https://wiki.winehq.org/Ubuntu</a></h5>
    <p>These commands should install Wine Stable 3.0 on your system. Be warned, that you may need to tweak these commands if you're using Linux Mint.<br>
    After that's done, you must legally obtain the Diablo CD. Insert it in your CD-ROM drive and copy the <b>DIABDAT.MPQ</b> file from the CD to XYZ directory.
    After you have the DIABDAT.MPQ copied to XYZ, download Infernity: <a href="https://github.com/qndel/Infernity/blob/master/Infernity.zip">https://github.com/qndel/Infernity/blob/master/Infernity.zip</a><br>
        Once you have the Infernity downloaded, you can now start Autorun.exe:</p>
    <div class="box">
        <code>
            cd /media/cdrom<br>
            wine autorun.exe
        </code>
    </div>
    <br>
    Install Diablo as you normally would.
    After that, download the latest 1.09 patch: <a href="https://www.moddb.com/games/diablo/downloads/diablo-v109-patch">https://www.moddb.com/games/diablo/downloads/diablo-v109-patch</a>.<br>
    Then install winetricks:<br><br>
    <div class="box">
        <code>
            sudo apt-get install winetricks
        </code>
    </div>
    <p>Winetricks has all the stuff you need. Launch winetricks and install the following components:</p>
    <div class="box">
        <code>
            d3d9<br>
            vcrun2005<br>
            vcrun2010<br>
            vcrun2012<br>
            vcrun2015<br>
            vcrun2017<br>
        </code>
    </div>
    <p>
        You may get a few errors, but that's normal. Just ignore them and let it install Visual C++ Runtime's
        <br>Launch the installation of 1.09 patch.
    </p>
    Copy DIABDAT.MPQ from the location you saved it previously to Diablo directory.<br>
    Extract Infernity.zip there too.<br>
    Your Diablo dir is probably: <code>/home/<b>YOURUSERNAME</b>/.wine/drive_c/Diablo</code><br>
    Launch winecfg:
    <div class="box">
        <code>
            winecfg
        </code>
    </div>
    Set it to use virtual desktop. Set the virtual desktop's resolution to 1280x960<br>
    <br>You also need to force it to use Qndel's modified version of ddraw.dll wrapper. Second tab > ddraw.dll > YES/OK<br>
    Now keep your fingers crossed, launch Infernity.exe:
    <div class="box">
        <code>
            wine Infernity.exe
        </code>
    </div>
    <br>Of course you have to be in Diablo's directory for that command to work :). Also, note that you also don't need the Diablo CD inserted in your drive to play any more.<br>
    It should either launch or crash.<br>
    If it launches, you will be greeted with a black screen. That's normal, use your memory to navigate it :P OR this:<br>
    <div class="box">
        Single Player<br>
        Single Player > Your Chars and New Game OR instant switch New Game > Load Game or New Game OR/AND select your class > LoadScreen > GAME<br>
        Multi Player > Battle.net, IPX, Modem, Direct Cable Connection; Don't try running Infernity on Blizzard's BattleNet as it wouldn't work :P; IPX play may require kernel modification or a VPN program like ZeroTier; IPX > Your Chars or New Game > Create Game and/or List of Games > IF Create Game Choose difficulty LoadScreen > GAME; If you're joining a game: WAITING FOR GAME DATA > Load Screen > GAME <br>
        Replay Intro<br>
        Show Credits<br>
        Exit Game<br>
    </div>
    <p>When you are in the game, press ~ or Scroll Lock to bring up DirectDraw Wrapper settings. Try to set it to your NATIVE resolution in fullscreen with vsync off.<br>If you get an error/exception, try deleting ddraw_config and setting slighty higher virtual desktop res.</p>
    Remember, Diablo was never meant to run on Linux, so you may expect A LOT of problems. If the game doesn't launch (can't init Direct3D9 device, etc), then
    try switching virtual desktop res, re-installing DirectX, etc.<br>
    Thanks for reading! :) If you encounter any problems, contact me at:
    <a href="https://sergi4ua.github.io/contact.html">https://sergi4ua.github.io/contact.html</a>
    <footer>
        <center><h5>This tutorial was written by Sergi4UA, edited by RadTang, neube and is in Public Domain.<br>The authors of Wine, your linux distro, Infernity, and this site, take no responsibilty over your actions. Anything you do is at your own risk!<br>Diablo(R) - Copyright (C) 1996 Blizzard Entertainment, Inc. All rights reserved. Diablo and Blizzard Entertainment are trademarks or registered trademarks of Blizzard Entertainment, Inc. in the U.S. and/or other countries.<br>This software is in no way associated with or endorsed by Blizzard Entertainment(R).</h5></center>
    </footer>
</body>
</html>